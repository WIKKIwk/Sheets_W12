#!/bin/bash
# Pre-commit hook to ensure code quality

echo "ğŸ” Running pre-commit checks..."

# Run tests
if [ -d "backend-go" ]; then
  echo "Testing Go backend..."
  cd backend-go
  go test ./... || exit 1
  cd ..
fi

# Check formatting
if [ -d "backend-go" ]; then
  echo "Checking Go formatting..."
  if [ -n "$(gofmt -l backend-go/)" ]; then
    echo "âŒ Go files need formatting. Run: gofmt -w backend-go/"
    exit 1
  fi
fi

echo "âœ… Pre-commit checks passed!"
